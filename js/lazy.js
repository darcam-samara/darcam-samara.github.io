"use strict";window.addEventListener&&window.requestAnimationFrame&&document.getElementsByClassName&&window.addEventListener("load",function(){var e,t=document.getElementsByClassName("progressive replace");function n(t){e=e||setTimeout(function(){e=null,requestAnimationFrame(i)},300)}function i(){for(var e,n,i=window.pageYOffset,s=i+window.innerHeight,r=0;r<t.length;)i<(n=i+(e=t[r].getBoundingClientRect()).top)+e.height&&s>n?(a(t[r]),t[r].classList.remove("replace")):r++}function a(e){if(e&&e.href){var t=new Image;e.dataset&&(t.srcset=e.dataset.srcset||"",t.sizes=e.dataset.sizes||""),t.src=e.href,t.className="reveal",t.complete?n():t.onload=n}function n(){e.addEventListener("click",function(e){e.preventDefault()},!1),e.appendChild(t).addEventListener("animationend",function(t){var n=e.querySelector&&e.querySelector("img.preview");n&&(t.target.alt=n.alt||"",e.removeChild(n),t.target.classList.remove("reveal"))})}}window.addEventListener("scroll",n,!1),window.addEventListener("resize",n,!1),i()},!1);